# Модель делегирования событий

> В других языках программирования объект, на котором возникают события, и обработка событий связана напрямую. Здесь же между ними возникает посредник - слушатель.

Объект сам не обрабатывает события. Он добавляет себе слушателя, который и будет заниматься обработкой возникающих событий. Если же слушатель не умеет обрабатывать некоторые события либо слушатель вовсе не предназначен для таких событий, то такие события обрабатываются стандартно: никаких действий не происходит.

**Объект** -> **Слушатель** -> **Обработка событий** 

На один объект можно навесить несколько слушателей

|			|Объект		|			|
|:---------:|:---------:|:---------:|
|Слушатель 1|Слушатель 2|Слушатель 3|

Часто используется подход, при котором несколько объектов используют общего слушателя

|			|Слушатель	|			|
|:---------:|:---------:|:---------:|
|Объект 1	|Объект 2	|Объект 3	|

В качестве слушателя можно выбрать:
- вложенный класс (позволяет обращаться к членам класса-хозяина)
- анонимный вложенный класс (не нужно придумывать названия)
- Этот же класс (не нужно создавать многочисленные новые классы)

### События

У события можно получить специфическую информацию: у события мыши, например, координаты мыши, какие кнопки были нажаты, у события клавиатуры - нажатую клавишу. У любого события методом `getSource` можно получить источник события - объект, на котором возникло событие. Актуально это и в случае использования общего слушателя.

Примеры событий: `MouseEvent`, `KeyEvent`, `InputEvent`, `FocusEvent` ... (`java.awt.event`)
События можно разделить на 2 группы: события операционной системы и программные события.

### Реализация слушателя

Для реализации слушателя, как обычно, возможно два варианта:
- наследоваться от класса
- реализовать интерфейс

Для добавления слушателя используется метод `addXxxListener`, параметром которого задается объект слушателя, например, методы `addMouseListener`, `addActionListener`, `addKeyListener`.

### Реализация интерфейса

Более общий способ - реализовать интерфейс. Для каждого события определен один (в некоторых случаях несколько ) интерфейсов слушателя.

|Класс события|Интерфейя слушателя|
|-|-|
|MouseEvent|MouseListener, MouseMotionListener|
|KeyEvent|KeyListener|

В состав интерфейса входят методы вида `public void <name>(<EventType> <variable_name>`).

|Интерфейс слушателя|Имя метода			|
|-------------------|-------------------|
|MouwseListener		|mouseClicked		|
|					|mouseEntered		|
|					|mouseExited		|
|					|mousePressed		|
|					|mouseReleased		|
|					|mouseMoved			|
|ActionListener		|actionPerfomed		|
|ItemListener		|itemStateChanged	|

### Классы адаптеров

Другой вариант - наследование. Для каждого интерфейса (за исключением интерфейсов с одним методом) определен **абстрактный** класс  адаптер. В нем все методы реализовны как пустые.

|Интерфейс слушателя|Класс адаптера		|
|-------------------|-------------------|
|MouseListener		|MouseAdapter		|
|KeyListerner		|KeyAdapter			|
|WindowListener		|WindowAdapter		|
|MouseMotionListener|MouseMotionAdapter	|

# Библиотека AWT

Библиотека AWT (Abstract Window Toolkit) поддерживается с первых версий языка. Она содержит стандартные компоненты: кнопки, текстовые поля, метки, флажки, меню и т.д. Основное достоинство - поддержка этой библиотеки любыми интерпретаторами. Недостаток - недостаточно презентабельный вид, а также особенности реализации, плохо отражающиеся на эффективности использования памяти.